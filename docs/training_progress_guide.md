# è®­ç»ƒè¿›åº¦ç›‘æ§æŒ‡å—

## æ¦‚è¿°

CUDAé—ä¼ ç®—æ³•è®­ç»ƒç³»ç»Ÿæä¾›äº†å®Œæ•´çš„è¿›åº¦ç›‘æ§åŠŸèƒ½ï¼Œè®©æ‚¨èƒ½å¤Ÿå®æ—¶æŸ¥çœ‹è®­ç»ƒçŠ¶æ€ã€åˆ†æè®­ç»ƒè¶‹åŠ¿ï¼Œå¹¶ç›‘æ§ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ”¥ å®æ—¶è¿›åº¦æ˜¾ç¤º
- **æ¯ä»£è¿›åº¦**: æ˜¾ç¤ºå½“å‰ä»£æ•°ã€æœ€ä½³é€‚åº”åº¦ã€å¹³å‡é€‚åº”åº¦
- **æ€§èƒ½æŒ‡æ ‡**: æ¯ä»£è®­ç»ƒæ—¶é—´ã€æ— æ”¹è¿›ä»£æ•°è®¡æ•°
- **èµ„æºç›‘æ§**: GPUå†…å­˜ä½¿ç”¨ã€ç³»ç»Ÿå†…å­˜ä½¿ç”¨
- **è¶‹åŠ¿åˆ†æ**: é€‚åº”åº¦å˜åŒ–è¶‹åŠ¿ã€æ”¹è¿›ç‡ç»Ÿè®¡

### ğŸ“Š è¯¦ç»†ç»Ÿè®¡ä¿¡æ¯
- **è®­ç»ƒç»Ÿè®¡**: æ€»è®­ç»ƒæ—¶é—´ã€å¹³å‡æ¯ä»£æ—¶é—´ã€ETAä¼°ç®—
- **é€‚åº”åº¦åˆ†æ**: å†å²æœ€ä½³ã€æœ€è¿‘è¶‹åŠ¿ã€æ”¹è¿›å†å²
- **å†…å­˜ç›‘æ§**: GPUå†…å­˜åˆ†é…ã€ç³»ç»Ÿå†…å­˜ä½¿ç”¨
- **è¿›åº¦æ¡**: å¯è§†åŒ–è®­ç»ƒè¿›åº¦

### ğŸ“ æŒä¹…åŒ–æ—¥å¿—
- **è‡ªåŠ¨è®°å½•**: æ‰€æœ‰è®­ç»ƒç»“æœè‡ªåŠ¨ä¿å­˜åˆ°æ—¥å¿—æ–‡ä»¶
- **JSONæ ¼å¼**: ç»“æ„åŒ–æ•°æ®ï¼Œä¾¿äºåˆ†æå’Œå¯è§†åŒ–
- **ç´¯ç§¯å†å²**: å¤šæ¬¡è®­ç»ƒçš„å†å²è®°å½•ç´¯ç§¯ä¿å­˜
- **ä¼šè¯ç®¡ç†**: æ¯æ¬¡è®­ç»ƒæœ‰å”¯ä¸€çš„ä¼šè¯ID

## ä½¿ç”¨æ–¹æ³•

### 1. å¯åŠ¨è®­ç»ƒï¼ˆè‡ªåŠ¨å¯ç”¨è¿›åº¦ç›‘æ§ï¼‰

```bash
python core/main_cuda.py
```

è®­ç»ƒå¼€å§‹åï¼Œæ‚¨å°†çœ‹åˆ°è¯¦ç»†çš„å®æ—¶è¿›åº¦æ˜¾ç¤ºï¼š

```
ğŸš€ CUDAé—ä¼ ç®—æ³•è®­ç»ƒå¼€å§‹
================================================================================
ç›®æ ‡ä»£æ•°: 1000
æ—©åœè€å¿ƒ: 100
å¼€å§‹æ—¶é—´: 2024-12-01 14:30:22
================================================================================

ğŸ”¥ ä»£æ•°    1 (  0.1%) | æœ€ä½³: 0.123456 | å¹³å‡: 0.098765 | æ ‡å‡†å·®: 0.023456 | æ— æ”¹è¿›:   0 | æ—¶é—´:  1.234s
   ä»£æ•°    2 (  0.2%) | æœ€ä½³: 0.134567 | å¹³å‡: 0.109876 | æ ‡å‡†å·®: 0.024567 | æ— æ”¹è¿›:   0 | æ—¶é—´:  1.198s
   ...
```

### 2. å®æ—¶ç›‘æ§æ­£åœ¨è¿›è¡Œçš„è®­ç»ƒ

åœ¨å¦ä¸€ä¸ªç»ˆç«¯çª—å£ä¸­è¿è¡Œï¼š

```bash
# è‡ªåŠ¨æŸ¥æ‰¾æœ€æ–°çš„è®­ç»ƒæ—¥å¿—
python tools/watch_training_progress.py --auto

# æˆ–æŒ‡å®šå…·ä½“çš„æ—¥å¿—æ–‡ä»¶
python tools/watch_training_progress.py results/training_history_cuda.jsonl
```

å®æ—¶ç›‘æ§ç•Œé¢æ˜¾ç¤ºï¼š

```
================================================================================
ğŸš€ CUDAé—ä¼ ç®—æ³•è®­ç»ƒå®æ—¶ç›‘æ§
================================================================================
ğŸ“ˆ å½“å‰ä»£æ•°: 150
ğŸ† æœ€ä½³é€‚åº”åº¦: 0.456789
ğŸ“Š å¹³å‡é€‚åº”åº¦: 0.234567
ğŸ“‰ æ ‡å‡†å·®: 0.123456
â±ï¸  æœ¬ä»£ç”¨æ—¶: 1.23ç§’
ğŸ”„ æ— æ”¹è¿›ä»£æ•°: 5
ğŸ–¥ï¸  GPUå†…å­˜: 2.34GB
ğŸ’¾ ç³»ç»Ÿå†…å­˜: 8.76GB

ğŸ“Š è®­ç»ƒç»Ÿè®¡:
   æ€»ä»£æ•°: 150
   å†å²æœ€ä½³: 0.456789
   æ€»è®­ç»ƒæ—¶é—´: 0.52å°æ—¶
   å¹³å‡æ¯ä»£: 1.25ç§’
   æœ€è¿‘è¶‹åŠ¿: ğŸ“ˆ ä¸Šå‡
================================================================================
```

### 3. æŸ¥çœ‹è®­ç»ƒå†å²

```bash
# æŸ¥çœ‹å®Œæ•´è®­ç»ƒå†å²
python tools/view_training_log.py --auto

# ç”Ÿæˆè®­ç»ƒè¿›åº¦å›¾è¡¨
python tools/view_training_log.py --auto --plot

# ä¿å­˜å›¾è¡¨åˆ°æ–‡ä»¶
python tools/view_training_log.py --auto --save-plot training_progress.png

# åªæŸ¥çœ‹æœ€è¿‘50ä»£
python tools/view_training_log.py --auto --tail 50
```

### 4. è®­ç»ƒè¿›åº¦æ¼”ç¤º

```bash
python demo_training_progress.py
```

## æ—¥å¿—æ–‡ä»¶æ ¼å¼

### è®­ç»ƒæ—¥å¿—ç»“æ„

æ¯æ¡æ—¥å¿—è®°å½•åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š

```json
{
  "generation": 150,
  "best_fitness": 0.456789,
  "avg_fitness": 0.234567,
  "std_fitness": 0.123456,
  "generation_time": 1.234,
  "no_improvement_count": 5,
  "gpu_memory_allocated": 2.34,
  "gpu_memory_reserved": 3.45,
  "system_memory_gb": 8.76
}
```

### æ—¥å¿—æ–‡ä»¶ä½ç½®

- **CUDAè®­ç»ƒæ—¥å¿—**: `results/training_history_cuda.jsonl`
- **æ™®é€šè®­ç»ƒæ—¥å¿—**: `results/training_history.jsonl`
- **æ£€æŸ¥ç‚¹æ–‡ä»¶**: `results/checkpoints/checkpoint_gen_*.pt`
- **æœ€ä½³ä¸ªä½“**: `results/best_individual_*.npy`

## è¿›åº¦ç›‘æ§é…ç½®

### åœ¨è®­ç»ƒä»£ç ä¸­é…ç½®

```python
# åœ¨ core/main_cuda.py ä¸­çš„é…ç½®
results = ga.evolve(
    train_features,
    train_labels,
    show_detailed_progress=True,      # å¯ç”¨è¯¦ç»†è¿›åº¦ç›‘æ§
    progress_update_interval=1.0,     # æ¯ç§’æ›´æ–°ä¸€æ¬¡
    generation_log_file=log_file,     # æ—¥å¿—æ–‡ä»¶è·¯å¾„
    generation_log_interval=1         # æ¯ä»£éƒ½è®°å½•æ—¥å¿—
)
```

### è¿›åº¦ç›‘æ§å™¨é€‰é¡¹

```python
from training_progress_monitor import TrainingProgressMonitor

monitor = TrainingProgressMonitor(
    log_file=log_file,           # æ—¥å¿—æ–‡ä»¶è·¯å¾„
    update_interval=1.0          # æ›´æ–°é—´éš”ï¼ˆç§’ï¼‰
)

# å¯åŠ¨ç›‘æ§
monitor.start_training(
    total_generations=1000,      # æ€»ä»£æ•°
    early_stop_patience=100      # æ—©åœè€å¿ƒ
)

# æ›´æ–°è¿›åº¦
monitor.update_generation(generation, stats)

# æ˜¾ç¤ºæœ€ç»ˆæ€»ç»“
monitor.display_final_summary(results)
```

## é«˜çº§åŠŸèƒ½

### 1. è‡ªå®šä¹‰è¿›åº¦æ˜¾ç¤º

```python
# ä½¿ç”¨ç®€åŒ–çš„è¿›åº¦æ˜¾ç¤ºå™¨
from training_progress_monitor import SimpleProgressDisplay

display = SimpleProgressDisplay()
display.start_training(total_generations)
display.update_generation(generation, stats)
display.display_final_summary(results)
```

### 2. è®­ç»ƒç»Ÿè®¡åˆ†æ

```python
# è·å–è®­ç»ƒç»Ÿè®¡ä¿¡æ¯
stats = monitor.get_statistics()
print(f"å½“å‰ä»£æ•°: {stats['current_generation']}")
print(f"æœ€ä½³é€‚åº”åº¦: {stats['best_fitness']}")
print(f"æ”¹è¿›æ¬¡æ•°: {stats['improvement_count']}")
```

### 3. å†…å­˜ç›‘æ§

è®­ç»ƒè¿‡ç¨‹ä¸­è‡ªåŠ¨ç›‘æ§ï¼š
- GPUå†…å­˜åˆ†é…å’Œç¼“å­˜
- ç³»ç»Ÿå†…å­˜ä½¿ç”¨
- å†…å­˜ä½¿ç”¨è¶‹åŠ¿

## æ•…éšœæ’é™¤

### 1. è¿›åº¦ç›‘æ§å™¨ä¸å·¥ä½œ

```bash
# æ£€æŸ¥ä¾èµ–æ˜¯å¦å®‰è£…
pip install psutil

# æ£€æŸ¥è®­ç»ƒè¿›åº¦ç›‘æ§å™¨æ˜¯å¦å¯ç”¨
python -c "from training_progress_monitor import TrainingProgressMonitor; print('OK')"
```

### 2. æ—¥å¿—æ–‡ä»¶æœªåˆ›å»º

- ç¡®ä¿ `results` ç›®å½•å­˜åœ¨
- æ£€æŸ¥æ–‡ä»¶å†™å…¥æƒé™
- ç¡®è®¤æ—¥å¿—æ–‡ä»¶è·¯å¾„æ­£ç¡®

### 3. å®æ—¶ç›‘æ§æ— æ•°æ®

- ç¡®è®¤è®­ç»ƒæ­£åœ¨è¿è¡Œ
- æ£€æŸ¥æ—¥å¿—æ–‡ä»¶è·¯å¾„
- ç¡®è®¤æ—¥å¿—æ–‡ä»¶æ­£åœ¨æ›´æ–°

## æœ€ä½³å®è·µ

### 1. è®­ç»ƒå‰å‡†å¤‡

```bash
# 1. æ¸…ç†æ—§çš„æ—¥å¿—ï¼ˆå¯é€‰ï¼‰
rm -f results/training_history_cuda.jsonl

# 2. åœ¨æ–°ç»ˆç«¯å¯åŠ¨å®æ—¶ç›‘æ§
python tools/watch_training_progress.py --auto

# 3. åœ¨ä¸»ç»ˆç«¯å¯åŠ¨è®­ç»ƒ
python core/main_cuda.py
```

### 2. é•¿æœŸè®­ç»ƒç›‘æ§

```bash
# å®šæœŸæ£€æŸ¥è®­ç»ƒè¿›åº¦
python tools/view_training_log.py --auto --tail 20

# ç”Ÿæˆè¿›åº¦å›¾è¡¨
python tools/view_training_log.py --auto --plot
```

### 3. è®­ç»ƒå®Œæˆååˆ†æ

```bash
# æŸ¥çœ‹å®Œæ•´è®­ç»ƒå†å²
python tools/view_training_log.py --auto

# ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š
python tools/view_training_log.py --auto --save-plot final_report.png
```

## ç¤ºä¾‹è¾“å‡º

### è®­ç»ƒè¿‡ç¨‹ä¸­çš„è¯¦ç»†è¿›åº¦

```
ğŸ”¥ ä»£æ•°  150 ( 15.0%) | æœ€ä½³: 0.456789 | å¹³å‡: 0.234567 | æ ‡å‡†å·®: 0.123456 | æ— æ”¹è¿›:   5 | æ—¶é—´:  1.234s
    ğŸ“Š ç»Ÿè®¡ | æ€»æ—¶é—´: 0.52h | å¹³å‡æ¯ä»£: 1.25s | ETA: 2.8h
    ğŸ“ˆ è¶‹åŠ¿ | æœ€è¿‘æœ€ä½³: 0.456789 | æœ€è¿‘å¹³å‡: 0.234567
    ğŸ–¥ï¸  GPUå†…å­˜ | å·²åˆ†é…: 2.34GB | å·²ç¼“å­˜: 3.45GB
```

### æœ€ç»ˆè®­ç»ƒæ€»ç»“

```
================================================================================
ğŸ‰ è®­ç»ƒå®Œæˆï¼
================================================================================
ğŸ“Š è®­ç»ƒç»Ÿè®¡:
   æ€»ä»£æ•°: 500
   æœ€ä½³é€‚åº”åº¦: 0.78901234
   æ€»è®­ç»ƒæ—¶é—´: 2.34 å°æ—¶
   å¹³å‡æ¯ä»£æ—¶é—´: 16.848 ç§’
   æ€»æ”¹è¿›æ¬¡æ•°: 45
   æœ€åæ”¹è¿›ä»£æ•°: 487
   æ”¹è¿›ç‡: 9.0%

â±ï¸  æ€§èƒ½ç»Ÿè®¡:
   å¹³å‡æ¯ä»£: 16.848s
   æœ€å¿«ä¸€ä»£: 12.345s
   æœ€æ…¢ä¸€ä»£: 23.456s

ğŸ“ˆ é€‚åº”åº¦ç»Ÿè®¡:
   åˆå§‹é€‚åº”åº¦: 0.12345678
   æœ€ç»ˆé€‚åº”åº¦: 0.78901234
   æ€»ä½“æ”¹è¿›: 0.66555556 (539.2%)
================================================================================
```

è¿™ä¸ªå®Œæ•´çš„è®­ç»ƒè¿›åº¦ç›‘æ§ç³»ç»Ÿè®©æ‚¨èƒ½å¤Ÿï¼š
- å®æ—¶äº†è§£è®­ç»ƒçŠ¶æ€
- ç›‘æ§ç³»ç»Ÿèµ„æºä½¿ç”¨
- åˆ†æè®­ç»ƒè¶‹åŠ¿
- ä¼˜åŒ–è®­ç»ƒå‚æ•°
- åŠæ—¶å‘ç°é—®é¢˜

ç°åœ¨æ‚¨å¯ä»¥å¼€å§‹è®­ç»ƒï¼Œå¹¶ä½¿ç”¨è¿™äº›å·¥å…·æ¥ç›‘æ§å’Œåˆ†æè®­ç»ƒè¿›åº¦ï¼