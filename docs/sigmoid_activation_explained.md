# ğŸ¯ Sigmoidæ¿€æ´»å‡½æ•°åœ¨äº¤æ˜“å†³ç­–ä¸­çš„åº”ç”¨

## ğŸ“Š ä¸ºä»€ä¹ˆä½¿ç”¨Sigmoidæ¿€æ´»å‡½æ•°ï¼Ÿ

### ğŸ”„ åŸå§‹é—®é¢˜
åœ¨æ²¡æœ‰æ¿€æ´»å‡½æ•°çš„æƒ…å†µä¸‹ï¼š
```python
raw_scores = torch.mm(weights, features.T)  # åŸå§‹åˆ†æ•°
# èŒƒå›´: å¯èƒ½æ˜¯ [-âˆ, +âˆ]ï¼Œå®é™…é€šå¸¸åœ¨ [-50, +50] å·¦å³
```

**é—®é¢˜**:
1. **ä¸ç¨³å®š**: åˆ†æ•°èŒƒå›´å˜åŒ–å¾ˆå¤§ï¼Œéš¾ä»¥è®¾å®šå›ºå®šé˜ˆå€¼
2. **ä¸ç›´è§‚**: è´Ÿæ•°è¡¨ç¤ºä»€ä¹ˆï¼Ÿæ­£æ•°åˆè¡¨ç¤ºä»€ä¹ˆï¼Ÿ
3. **éš¾è°ƒå‚**: é˜ˆå€¼éœ€è¦æ ¹æ®æ•°æ®åŠ¨æ€è°ƒæ•´

### ğŸ¯ Sigmoidè§£å†³æ–¹æ¡ˆ
```python
raw_scores = torch.mm(weights, features.T)
scores = torch.sigmoid(raw_scores)  # æ˜ å°„åˆ° [0, 1]
```

**ä¼˜åŠ¿**:
1. **ç¨³å®šèŒƒå›´**: å§‹ç»ˆåœ¨ [0, 1] åŒºé—´
2. **ç›´è§‚è§£é‡Š**: 0.5 = ä¸­æ€§ï¼Œ>0.5 = åå‘ä¹°å…¥ï¼Œ<0.5 = åå‘å–å‡º
3. **æ˜“äºè°ƒå‚**: é˜ˆå€¼å«ä¹‰æ˜ç¡®ä¸”ç¨³å®š

## ğŸ“ˆ Sigmoidå‡½æ•°ç‰¹æ€§

### æ•°å­¦å®šä¹‰
```python
sigmoid(x) = 1 / (1 + e^(-x))
```

### å…³é”®ç‰¹ç‚¹
```python
sigmoid(-âˆ) = 0      # æåº¦çœ‹ç©º
sigmoid(-2)  â‰ˆ 0.12  # å¼ºçƒˆçœ‹ç©º  
sigmoid(-1)  â‰ˆ 0.27  # çœ‹ç©º
sigmoid(0)   = 0.5   # ä¸­æ€§
sigmoid(1)   â‰ˆ 0.73  # çœ‹å¤š
sigmoid(2)   â‰ˆ 0.88  # å¼ºçƒˆçœ‹å¤š
sigmoid(+âˆ)  = 1     # æåº¦çœ‹å¤š
```

### ğŸ¨ å¯è§†åŒ–ç†è§£
```
åŸå§‹åˆ†æ•° â†’ Sigmoid â†’ äº¤æ˜“å«ä¹‰
-10      â†’ 0.000   â†’ æåº¦çœ‹ç©º
-5       â†’ 0.007   â†’ å¼ºçƒˆçœ‹ç©º
-2       â†’ 0.119   â†’ çœ‹ç©º
-1       â†’ 0.269   â†’ è½»å¾®çœ‹ç©º
0        â†’ 0.500   â†’ ä¸­æ€§
1        â†’ 0.731   â†’ è½»å¾®çœ‹å¤š
2        â†’ 0.881   â†’ çœ‹å¤š
5        â†’ 0.993   â†’ å¼ºçƒˆçœ‹å¤š
10       â†’ 1.000   â†’ æåº¦çœ‹å¤š
```

## ğŸ”§ æ–°çš„äº¤æ˜“ä¿¡å·æœºåˆ¶

### ä¿¡å·ç”Ÿæˆé€»è¾‘
```python
# åŸºäº [0, 1] åŒºé—´çš„å†³ç­–
buy_signals = scores > buy_threshold    # ä¾‹å¦‚ > 0.6
sell_signals = scores < sell_threshold  # ä¾‹å¦‚ < 0.4
# ä¸­æ€§åŒºé—´: 0.4 â‰¤ scores â‰¤ 0.6 (ä¸äº§ç”Ÿäº¤æ˜“ä¿¡å·)
```

### é˜ˆå€¼è®¾ç½®æŒ‡å—

#### ğŸ›¡ï¸ ä¿å®ˆç­–ç•¥
```python
buy_threshold = 0.7   # åªæœ‰éå¸¸ç¡®ä¿¡æ—¶æ‰ä¹°å…¥
sell_threshold = 0.3  # åªæœ‰éå¸¸ç¡®ä¿¡æ—¶æ‰å–å‡º
# ä¸­æ€§åŒºé—´: [0.3, 0.7] = 40% çš„èŒƒå›´
```

#### âš–ï¸ å¹³è¡¡ç­–ç•¥
```python
buy_threshold = 0.6   # é€‚åº¦ç¡®ä¿¡æ—¶ä¹°å…¥
sell_threshold = 0.4  # é€‚åº¦ç¡®ä¿¡æ—¶å–å‡º  
# ä¸­æ€§åŒºé—´: [0.4, 0.6] = 20% çš„èŒƒå›´
```

#### âš¡ æ¿€è¿›ç­–ç•¥
```python
buy_threshold = 0.55  # è½»å¾®åå‘æ—¶å°±ä¹°å…¥
sell_threshold = 0.45 # è½»å¾®åå‘æ—¶å°±å–å‡º
# ä¸­æ€§åŒºé—´: [0.45, 0.55] = 10% çš„èŒƒå›´
```

## ğŸ“Š å®é™…æ•ˆæœåˆ†æ

### åŸå§‹åˆ†æ•° vs Sigmoidåˆ†æ•°
```python
# è®­ç»ƒè¿‡ç¨‹ä¸­çš„è¾“å‡ºç¤ºä¾‹
ç¬¬1ä»£ åŸå§‹[-8.23, +12.45] â†’ Sigmoid[0.000, 1.000], å‡å€¼=0.501
ç¬¬10ä»£ åŸå§‹[-5.67, +8.91] â†’ Sigmoid[0.003, 0.999], å‡å€¼=0.498
ç¬¬50ä»£ åŸå§‹[-3.21, +4.56] â†’ Sigmoid[0.039, 0.990], å‡å€¼=0.502
```

### äº¤æ˜“ä¿¡å·åˆ†å¸ƒ
```python
# ä¸åŒé˜ˆå€¼è®¾ç½®ä¸‹çš„ä¿¡å·åˆ†å¸ƒ
ä¿å®ˆç­–ç•¥ (0.7/0.3): ä¹°å…¥15%, å–å‡º12%, ä¸­æ€§73%
å¹³è¡¡ç­–ç•¥ (0.6/0.4): ä¹°å…¥25%, å–å‡º22%, ä¸­æ€§53%  
æ¿€è¿›ç­–ç•¥ (0.55/0.45): ä¹°å…¥35%, å–å‡º33%, ä¸­æ€§32%
```

## ğŸ›ï¸ å‚æ•°è°ƒä¼˜å»ºè®®

### 1. æ ¹æ®å¸‚åœºç¯å¢ƒè°ƒæ•´
```python
# ç‰›å¸‚ç¯å¢ƒ - åå‘ä¹°å…¥
buy_threshold = 0.55  # é™ä½ä¹°å…¥é—¨æ§›
sell_threshold = 0.35 # æé«˜å–å‡ºé—¨æ§›

# ç†Šå¸‚ç¯å¢ƒ - åå‘å–å‡º
buy_threshold = 0.65  # æé«˜ä¹°å…¥é—¨æ§›  
sell_threshold = 0.45 # é™ä½å–å‡ºé—¨æ§›

# éœ‡è¡å¸‚åœº - ä¿å®ˆç­–ç•¥
buy_threshold = 0.7   # é«˜ä¹°å…¥é—¨æ§›
sell_threshold = 0.3  # ä½å–å‡ºé—¨æ§›
```

### 2. æ ¹æ®é£é™©åå¥½è°ƒæ•´
```python
# ä½é£é™©åå¥½
buy_threshold = 0.75  # éå¸¸ç¡®ä¿¡æ‰ä¹°å…¥
sell_threshold = 0.25 # éå¸¸ç¡®ä¿¡æ‰å–å‡º

# ä¸­ç­‰é£é™©åå¥½  
buy_threshold = 0.6   # é€‚åº¦ç¡®ä¿¡ä¹°å…¥
sell_threshold = 0.4  # é€‚åº¦ç¡®ä¿¡å–å‡º

# é«˜é£é™©åå¥½
buy_threshold = 0.52  # è½»å¾®åå‘å°±ä¹°å…¥
sell_threshold = 0.48 # è½»å¾®åå‘å°±å–å‡º
```

### 3. åŠ¨æ€é˜ˆå€¼ç­–ç•¥
```python
# å¯ä»¥æ ¹æ®å¸‚åœºæ³¢åŠ¨ç‡åŠ¨æ€è°ƒæ•´é˜ˆå€¼
volatility = calculate_market_volatility()

if volatility > 0.02:  # é«˜æ³¢åŠ¨
    buy_threshold = 0.65  # æé«˜é—¨æ§›
    sell_threshold = 0.35
else:  # ä½æ³¢åŠ¨
    buy_threshold = 0.55  # é™ä½é—¨æ§›
    sell_threshold = 0.45
```

## ğŸ” ç›‘æ§å’Œè°ƒè¯•

### å®æ—¶ç›‘æ§è¾“å‡º
```python
ğŸ“Š ç¬¬10ä»£ Scoresè¯¦ç»†ç»Ÿè®¡:
  åŸå§‹åˆ†æ•°: [-4.567, +6.234], å‡å€¼=0.123Â±2.456
  Sigmoidå: [0.010, 0.998], å‡å€¼=0.531Â±0.234
  ä¸­ä½æ•°: 0.523
  åˆ†ä½æ•°: P1=0.089, P5=0.156, P95=0.887, P99=0.967
  æ•°æ®å½¢çŠ¶: torch.Size([500, 99654]) (ç§ç¾¤å¤§å° Ã— æ—¶é—´æ­¥æ•°)
  äº¤æ˜“ä¿¡å·: ä¹°å…¥12456æ¬¡(25.0%), å–å‡º11234æ¬¡(22.5%), ä¸­æ€§26098æ¬¡(52.5%)
  é˜ˆå€¼è®¾ç½®: ä¹°å…¥>0.6, å–å‡º<0.4, ä¸­æ€§åŒºé—´[0.4, 0.6]
```

### å…³é”®æŒ‡æ ‡è§£è¯»
1. **åŸå§‹åˆ†æ•°èŒƒå›´**: åæ˜ æƒé‡å’Œç‰¹å¾çš„åŒ¹é…ç¨‹åº¦
2. **Sigmoidååˆ†å¸ƒ**: åº”è¯¥ç›¸å¯¹å‡åŒ€åˆ†å¸ƒåœ¨[0,1]
3. **ä¿¡å·æ¯”ä¾‹**: ä¹°å…¥+å–å‡ºä¸åº”è¿‡é«˜(é¿å…è¿‡åº¦äº¤æ˜“)
4. **ä¸­æ€§æ¯”ä¾‹**: é€‚å½“çš„ä¸­æ€§åŒºé—´æœ‰åŠ©äºå‡å°‘å™ªéŸ³äº¤æ˜“

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. åˆå§‹è®¾ç½®
```python
# æ¨èçš„åˆå§‹é…ç½®
TRAINING_CONFIG = {
    "buy_threshold": 0.6,    # 60%ç¡®ä¿¡åº¦ä¹°å…¥
    "sell_threshold": 0.4,   # 40%ç¡®ä¿¡åº¦å–å‡º
}
```

### 2. æ¸è¿›å¼è°ƒä¼˜
```python
# ç¬¬ä¸€é˜¶æ®µï¼šå®½æ¾é˜ˆå€¼ï¼Œè§‚å¯Ÿåˆ†å¸ƒ
buy_threshold = 0.55, sell_threshold = 0.45

# ç¬¬äºŒé˜¶æ®µï¼šæ ¹æ®ç»“æœè°ƒæ•´
if äº¤æ˜“è¿‡äºé¢‘ç¹:
    buy_threshold = 0.65, sell_threshold = 0.35
elif äº¤æ˜“è¿‡äºç¨€å°‘:
    buy_threshold = 0.52, sell_threshold = 0.48
```

### 3. A/Bæµ‹è¯•
```python
# åŒæ—¶æµ‹è¯•å¤šä¸ªé˜ˆå€¼ç»„åˆ
configs = [
    {"buy": 0.6, "sell": 0.4},   # åŸºå‡†
    {"buy": 0.65, "sell": 0.35}, # ä¿å®ˆ
    {"buy": 0.55, "sell": 0.45}, # æ¿€è¿›
]
```

é€šè¿‡Sigmoidæ¿€æ´»å‡½æ•°ï¼Œæˆ‘ä»¬å°†åŸæœ¬ä¸ç¨³å®šçš„å†³ç­–åˆ†æ•°è½¬æ¢ä¸ºç›´è§‚ã€ç¨³å®šçš„æ¦‚ç‡å€¼ï¼Œä½¿å¾—äº¤æ˜“ç­–ç•¥æ›´åŠ å¯æ§å’Œå¯è§£é‡Šã€‚