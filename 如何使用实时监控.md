# 🚀 实时训练监控使用指南

## 快速开始

### 🎯 推荐方式（无警告版本）
```bash
# 最新版本，解决所有字体和编码问题
python final_monitor.py
```

### 🔧 其他选项
```bash
# 无字体警告的清洁版本
python clean_live_monitor.py

# 完整功能版本（可能有字体警告）
python watch_training_live.py

# 简化文本版本
python simple_live_chart.py

# 工具目录中的完整版监控（已修改为自动模式）
python tools/watch_training_progress.py

# CUDA进度查看器（已修改为自动模式）
python view_cuda_progress.py --watch
```

## 功能特性

### 🎨 动态图表模式（推荐）
- **实时更新的多图表面板**
- 适应度进化曲线（最佳和平均）
- 每代训练时间趋势
- 最近适应度分布直方图
- 详细的统计信息面板

### 📝 文本模式
- 清晰的控制台界面
- 实时更新的训练状态
- ASCII图表显示趋势
- 低资源占用

## 使用步骤

### 第一步：启动训练
```bash
# 在第一个终端窗口启动CUDA训练
python core/main_cuda.py
```

### 第二步：启动监控
```bash
# 在第二个终端窗口启动监控
python watch_training_live.py
```

## 监控信息说明

### 📊 基本指标
- **当前代数**: 训练进行到第几代
- **最佳适应度**: 当前代中最好的个体适应度
- **平均适应度**: 当前代所有个体的平均适应度
- **标准差**: 适应度的标准差，反映种群多样性
- **本代用时**: 当前代训练所用时间

### 💰 交易指标（如果有）
- **夏普比率**: 风险调整后的收益率
- **索提诺比率**: 下行风险调整后的收益率
- **最大回撤**: 最大的资产下跌幅度
- **总回报率**: 策略的总收益率

### 🖥️ 系统指标
- **系统内存**: 当前系统内存使用量
- **GPU内存**: GPU显存使用量（如果有）

### 📈 趋势分析
- **历史最佳**: 训练过程中出现的最佳适应度
- **总训练时间**: 累计训练时间
- **平均每代**: 平均每代训练时间
- **最近趋势**: 最近几代的适应度变化趋势

## 图表说明

### 📈 适应度进化曲线
- **蓝色实线**: 每代最佳适应度
- **红色虚线**: 每代平均适应度
- 显示训练过程中适应度的改进情况

### ⏱️ 训练时间趋势
- **绿色线条**: 每代训练时间
- 帮助识别训练效率变化

### 📊 适应度分布
- **直方图**: 最近20代适应度分布
- 显示适应度的集中程度和分布特征

### 📋 统计信息面板
- 实时显示所有关键指标
- 自动计算趋势和统计数据

## 常见问题

### Q: 提示"未找到训练日志文件"
**A**: 确保训练已经开始并生成了日志文件
- 先运行 `python core/main_cuda.py` 开始训练
- 等待几秒钟让训练生成第一条日志记录
- 然后启动监控工具

### Q: 图表不显示或显示错误
**A**: 检查matplotlib安装
```bash
# 安装图形库
pip install matplotlib numpy

# 如果还有问题，使用文本模式
python simple_live_chart.py
```

### Q: 监控显示"等待新数据"
**A**: 这是正常现象
- 表示监控工具正在等待训练生成新的数据
- 如果训练正在进行，数据会自动更新

### Q: 想要更改监控参数
**A**: 可以修改脚本中的参数
- `max_points`: 图表中显示的最大数据点数
- 更新间隔: 修改 `interval` 参数
- 图表大小: 修改 `figsize` 参数

## 技巧和建议

### 💡 最佳实践
1. **双终端使用**: 一个运行训练，一个运行监控
2. **长期训练**: 对于长时间训练，定期检查监控确保正常进行
3. **性能监控**: 关注内存使用，避免资源不足
4. **趋势分析**: 通过适应度曲线判断训练是否收敛

### 🔧 自定义选项
- 修改 `max_points` 来控制显示的历史数据量
- 调整更新间隔来平衡实时性和性能
- 根据需要添加更多监控指标

### 📱 轻量级使用
如果系统资源有限，推荐使用：
```bash
# 简单文本监控，资源占用最少
python simple_live_chart.py
```

## 文件说明

- `watch_training_live.py`: 主要的实时监控工具（推荐）
- `simple_live_chart.py`: 简化版文本监控
- `live_training_chart.py`: 完整版动态图表（功能最全）
- `tools/watch_training_progress.py`: 工具目录中的完整版
- `view_cuda_progress.py`: CUDA专用进度查看器

选择最适合你需求的工具即可！

---

🎉 **祝你训练顺利！** 通过实时监控，你可以及时了解训练进度，发现问题，优化训练效果。